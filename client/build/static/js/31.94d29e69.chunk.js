(this["webpackJsonpdatta-able-rv18.0.4"]=this["webpackJsonpdatta-able-rv18.0.4"]||[]).push([[31],{139:function(e,a,t){"use strict";t.d(a,"c",(function(){return s})),t.d(a,"b",(function(){return o})),t.d(a,"d",(function(){return l})),t.d(a,"a",(function(){return h}));var r=t(3),n=t(9),c=t.n(n);const s=()=>e=>{c.a.post("/api/branch/viewbranch").then(a=>e({type:r.k,payload:a.data}))},o=()=>e=>{c.a.post("/api/branch/viewbatch").then(a=>e({type:r.j,payload:a.data}))},l=(e,a)=>a=>{c.a.post("/api/branch/createbranch",e).then(e=>({type:r.h,payload:e.data})).catch(e=>a({type:r.g,payload:e.response.data}))},h=(e,a)=>a=>{c.a.post("/api/branch/deletebranch",e).then().catch(e=>console.log(e))}},173:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(115),s=t(87),o=t(133),l=t(147),h=t(125),i=t(22),m=t(89),d=t(83),p=(t(101),t(102),t(103),t(216)),b=t(24),u=t(139),g=t(138),E=t(80),v=t.n(E);class f extends r.Component{constructor(){super(),this.onChange=e=>{console.log("targeting state "+e.target.id+" with value "+e.target.value),this.setState({[e.target.id]:e.target.value})},this.onSubmit=e=>{e.preventDefault();const a={branchname:this.state.branchname,branchaddress:this.state.branchaddress,branchincharge:this.state.branchincharge,branchcontact:this.state.branchcontact};console.log(a),this.props.registerBranch(a,this.props.history),this.props.get_branches()},this.handleClick=e=>()=>{console.log(e._id);const a={branchid:e._id};window.confirm("Are you sure to delete this branch ?")&&(this.props.deleteBranch(a,this.props.history),this.props.get_branches())},this.state={branchname:"",branchaddress:"",branchincharge:"",branchcontact:"",errors:{},succeserret:{}}}componentDidMount(){console.log("On coach page this is state "+this.props.auth.isAuthenticated),this.props.auth.isAuthenticated||this.props.history.push("../auth/signin-1"),this.props.get_branches(),this.props.get_coach_view2_axios()}componentWillReceiveProps(e){console.log("props are below =========>"),console.log(e),console.log("props are above =========>"),e.errors?this.setState({errors:e.errors},()=>{console.log(this.state.errors,"dealersOverallTotal1")}):this.setState({errors:{}},()=>{console.log(this.state.errors,"dealersOverallTotal1")}),e.succeserret&&this.setState({succeserret:e.succeserret},()=>{console.log(this.state.succeserret,"dealersOverallTotal1")})}render(){const e=this.state.errors,a=(this.state.succeserret,this.props.branch.branchlist),t=this.props.coach2.coachlist;return n.a.createElement(i.a,null,n.a.createElement(c.a,null,n.a.createElement(s.a,null,n.a.createElement(m.a,{title:"Branch creation form",isOption:!0},n.a.createElement(s.a,{md:12},n.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},n.a.createElement(c.a,null,n.a.createElement(s.a,{md:4},n.a.createElement(o.a.Group,{controlId:"formBasicPassword"},n.a.createElement(o.a.Label,null,"Branch Name"),n.a.createElement("input",{onChange:this.onChange,value:this.state.branchname,error:e.branchname,id:"branchname",type:"text",className:v()("form-control",{invalid:e.branchname}),placeholder:"Branch name"}))),n.a.createElement(s.a,{md:4},n.a.createElement(o.a.Group,{controlId:"formBasicPassword"},n.a.createElement(o.a.Label,null,"Branch Contact no."),n.a.createElement("input",{onChange:this.onChange,value:this.state.branchcontact,error:e.branchcontact,id:"branchcontact",type:"contact",className:v()("form-control",{invalid:e.branchcontact}),placeholder:"Contact No."}))),n.a.createElement(s.a,{md:4},n.a.createElement(o.a.Group,{controlId:"formBasicPassword"},n.a.createElement(o.a.Label,null,"Address"),n.a.createElement("input",{onChange:this.onChange,value:this.state.branchaddress,error:e.branchaddress,id:"branchaddress",type:"text",className:v()("form-control",{invalid:e.branchaddress}),placeholder:"Branch Address"})))," ",n.a.createElement(s.a,{md:4},n.a.createElement(o.a.Group,{controlId:"formBasicPassword"},n.a.createElement(o.a.Label,null,"Incharge"),n.a.createElement("select",{onChange:this.onChange,value:this.state.branchincharge,error:e.branchincharge,id:"branchincharge",type:"text",className:"form-control mb-3"},n.a.createElement("option",{value:""},"Select a coach"),console.log(t),t.map(({_id:e,name:a,contact:t})=>n.a.createElement("option",{value:e},a))))),n.a.createElement(s.a,{md:12},n.a.createElement(l.a,{variant:"primary",type:"submit"},"Submit")),n.a.createElement(s.a,{md:12},n.a.createElement("span",{style:{color:"#cc0000"}}," ",this.state.errors.branchname||this.state.errors.branchaddress||this.state.errors.branchincharge||this.state.errors.branchcontact),n.a.createElement("span",{style:{color:"#22bb33"}}," ",this.state.errors.sucstring)))))))),n.a.createElement(c.a,null,n.a.createElement(s.a,null,n.a.createElement(m.a,{title:"Branches",isOption:!0},n.a.createElement(h.a,{responsive:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("th",null,"Branch Name"),n.a.createElement("th",null,"Incharge "),n.a.createElement("th",null,"Contact"),n.a.createElement("th",null,"Actions")),n.a.createElement("tbody",null,a.map(({_id:e,branchname:a,branchaddress:t,branchincharge:r,branchcontact:c})=>n.a.createElement("tr",null,n.a.createElement("td",null,a),n.a.createElement("td",null,n.a.createElement("h6",{className:"mb-1"},r)),n.a.createElement("td",null,c),n.a.createElement("td",null,n.a.createElement("a",{href:d.a.BLANK_LINK,className:"label theme-bg text-white f-12"},"Edit"),n.a.createElement("a",{onClick:this.handleClick({_id:e}),className:"label theme-bg2 text-white f-12"},"Delete"))))))))))}}a.default=Object(b.b)(e=>({auth:e.auth,errors:e.errors,coach2:e.coach2,branch:e.branch}),{registerBranch:u.d,get_branches:u.c,get_coach_view2_axios:g.b,deleteBranch:u.a})(Object(p.a)(f))}}]);
//# sourceMappingURL=31.94d29e69.chunk.js.map