(this["webpackJsonpdatta-able-rv18.0.4"]=this["webpackJsonpdatta-able-rv18.0.4"]||[]).push([[4],{11:function(e,t,a){"use strict";var n=a(9),c=a.n(n);t.a=e=>{e?c.a.defaults.headers.common.Authorization=e:delete c.a.defaults.headers.common.Authorization}},14:function(e,t,a){"use strict";t.a={defaultPath:"/dashboard/default",basename:"/datta-able/react/default",layout:"vertical",preLayout:null,collapseMenu:!1,layoutType:"menu-light",navIconColor:!1,headerBackColor:"header-default",navBackColor:"navbar-default",navBrandColor:"brand-default",navBackImage:!1,rtlLayout:!1,navFixedLayout:!0,headerFixedLayout:!1,boxLayout:!1,navDropdownIcon:"style1",navListIcon:"style1",navActiveListColor:"active-default",navListTitleColor:"title-default",navListTitleHide:!1,configBlock:!1,layout6Background:"linear-gradient(to right, #A445B2 0%, #D41872 52%, #FF0066 100%)",layout6BackSize:""}},17:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return b}));var n=a(9),c=a.n(n),r=a(11),o=a(12),l=a.n(o),i=a(3);const s=e=>t=>{console.log("login fired"),c.a.post("/api/users/login",e).then(e=>{console.log(e);const a=e.data.token;localStorage.setItem("jwtToken",a),Object(r.a)(a);const n=l()(a);t(u(n))}).catch(e=>t({type:i.g,payload:e.response.data}))},u=e=>({type:i.n,payload:e}),d=()=>e=>{console.log("logging out with action"),localStorage.removeItem("jwtToken"),Object(r.a)(!1),e(u({}))},b=e=>t=>{c.a.post("/api/branch/branchfetcher",e).then(e=>t({type:i.i,payload:e.data}))}},19:function(e,t,a){"use strict";var n=a(0),c=a.n(n);t.a=()=>c.a.createElement("div",{className:"loader-bg"},c.a.createElement("div",{className:"loader-track"},c.a.createElement("div",{className:"loader-fill"})))},22:function(e,t,a){"use strict";t.a=e=>e.children},3:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return r})),a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"m",(function(){return i})),a.d(t,"l",(function(){return s})),a.d(t,"n",(function(){return u})),a.d(t,"o",(function(){return d})),a.d(t,"g",(function(){return b})),a.d(t,"h",(function(){return h})),a.d(t,"f",(function(){return O})),a.d(t,"i",(function(){return p})),a.d(t,"k",(function(){return m})),a.d(t,"j",(function(){return f}));const n="COLLAPSE_MENU",c="COLLAPSE_TOGGLE",r="FULL_SCREEN",o="FULL_SCREEN_EXIT",l="CHANGE_LAYOUT",i="NAV_CONTENT_LEAVE",s="NAV_COLLAPSE_LEAVE",u="SET_CURRENT_USER",d="USER_LOADING",b="GET_ERRORS",h="GET_SUCCESS",O="GET_COACH_VIEW2",p="LOAD_ASSOC_BRANCHES",m="LOAD_BRANCHES",f="LOAD_BATCHES"},43:function(e,t,a){e.exports=a(73)},73:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(25),o=a.n(r),l=a(8),i=a(24),s=a(78),u=a(74),d=a(79),b=a(39),h=a.n(b),O=(a(52),a(19)),p=a(22),m=a(76);class f extends c.a.Component{componentDidUpdate(e){this.props.location!==e.location&&window.scrollTo(0,0)}render(){return this.props.children}}var E=Object(m.a)(f);const g=c.a.lazy(()=>Promise.all([a.e(1),a.e(29)]).then(a.bind(null,217))),j=c.a.lazy(()=>Promise.all([a.e(1),a.e(27)]).then(a.bind(null,218))),y=c.a.lazy(()=>Promise.all([a.e(1),a.e(28)]).then(a.bind(null,219)));var S=[{path:"/auth/signup-1",exact:!0,name:"Signup 1",component:g},{path:"/dashboard/branchselect",exact:!0,name:"Branch Select",component:c.a.lazy(()=>Promise.all([a.e(1),a.e(39)]).then(a.bind(null,220)))},{path:"/auth/signin-1",exact:!0,name:"Signin 1",component:j},{path:"/auth/branchselector",exact:!0,name:"BranchSelector",component:y}],v=a(12),_=a.n(v),L=a(11);const T=h()({loader:()=>Promise.all([a.e(7),a.e(13)]).then(a.bind(null,225)),loading:O.a});class w extends n.Component{render(){const e=S.map((e,t)=>(console.log("A"),e.component?c.a.createElement(u.a,{key:t,path:e.path,exact:e.exact,name:e.name,render:t=>c.a.createElement(e.component,t)}):null));return c.a.createElement(p.a,null,c.a.createElement(E,null,c.a.createElement(n.Suspense,{fallback:c.a.createElement(O.a,null)},c.a.createElement(d.a,null,e,c.a.createElement(u.a,{path:"/",component:T})))))}}var C=w;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=a(2),k=a(3),N=a(14);const x=Object(A.a)(Object(A.a)({isOpen:[],isTrigger:[]},N.a),{},{isFullScreen:!1});var B=(e=x,t)=>{let a=[],n=[];switch(t.type){case k.b:return Object(A.a)(Object(A.a)({},e),{},{collapseMenu:!e.collapseMenu});case k.c:if("sub"===t.menu.type){n=e.isOpen,a=e.isTrigger;const c=a.indexOf(t.menu.id);c>-1&&(n=n.filter(e=>e!==t.menu.id),a=a.filter(e=>e!==t.menu.id)),-1===c&&(n=[...n,t.menu.id],a=[...a,t.menu.id])}else{n=e.isOpen;const c=e.isTrigger.indexOf(t.menu.id);a=-1===c?[t.menu.id]:[],n=-1===c?[t.menu.id]:[]}return Object(A.a)(Object(A.a)({},e),{},{isOpen:n,isTrigger:a});case k.m:return Object(A.a)(Object(A.a)({},e),{},{isOpen:n,isTrigger:a});case k.l:if("sub"===t.menu.type){n=e.isOpen,a=e.isTrigger;return a.indexOf(t.menu.id)>-1&&(n=n.filter(e=>e!==t.menu.id),a=a.filter(e=>e!==t.menu.id)),Object(A.a)(Object(A.a)({},e),{},{isOpen:n,isTrigger:a})}return Object(A.a)({},e);case k.d:return Object(A.a)(Object(A.a)({},e),{},{isFullScreen:!e.isFullScreen});case k.e:return Object(A.a)(Object(A.a)({},e),{},{isFullScreen:!1});case k.a:return Object(A.a)(Object(A.a)({},e),{},{layout:t.layout});default:return e}};const R=a(37),D={isAuthenticated:!1,user:{},loading:!1,selectedbranch:"",selectedbatch:"",assocbranch:{}};var U=(e=D,t)=>{switch(t.type){case k.n:return Object(A.a)(Object(A.a)({},e),{},{isAuthenticated:!R(t.payload),user:t.payload});case k.i:return Object(A.a)(Object(A.a)({},e),{},{assocbranch:t.payload});case k.o:return Object(A.a)(Object(A.a)({},e),{},{loading:!0});default:return e}},I=a(41);const F={};const P={coachlist:[]};a(37);const z={branchlist:[],success:"Data saved !",batchlist:[]};var G=Object(l.c)({reducer:B,auth:U,errors:function(e=F,t){switch(t.type){case k.g:return t.payload;default:return e}},coach2:function(e=P,t){switch(t.type){case k.f:return Object(A.a)(Object(A.a)({},e),{},{coachlist:t.payload});default:return e}},branch:function(e=z,t){switch(t.type){case k.k:return Object(A.a)(Object(A.a)({},e),{},{branchlist:t.payload});case k.j:return Object(A.a)(Object(A.a)({},e),{},{batchlist:t.payload});case k.h:return Object(A.a)(Object(A.a)({},e),{},{success:"ARE WE SUCCESSFUL ?"});default:return e}}});const V=[I.a],H=Object(l.e)(G,{},Object(l.d)(Object(l.a)(...V),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()||l.d));console.log(H.getState());var M=H,X=a(17);if(localStorage.jwtToken){const e=localStorage.jwtToken;Object(L.a)(e);const t=_()(e);M.dispatch(Object(X.d)(t));const a=Date.now()/1e3;t.exp<a&&(M.dispatch(Object(X.c)()),window.location.href="./login")}Object(l.e)(B),Object(l.e)(U);const W=c.a.createElement(i.a,{store:M},c.a.createElement(s.a,{basename:N.a.basename},c.a.createElement(C,null)));o.a.render(W,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[43,5,6]]]);
//# sourceMappingURL=main.921d56e5.chunk.js.map